<!--Users box-->
<div class="chat-list w-30">
	<div class="px-4 py-1 bg-light">
		<p class="h5 px-1 py-1">Chats</p>
	</div>

	<div class="search-container">
		<input class="search-input" placeholder="Search" type="text">
	</div>

	<div class="messages-box">
		<div class="list-group rounded-0">
			<div *ngFor="let user of chatLists" (click)="selectedUser(user)" [class.select]="isUserSelected(user._id)"
				class="list-group-item list-group-item-action list-group-item-light rounded-0">
				<div class="media"><img [src]="user.avatar" alt="user" width="40" height="40"
						class="rounded-circle">
					<span [ngClass]="user.status === 'active' ? 'active' : 'offline'"></span>
					<div class="media-body ml-4">
						<div class="d-flex align-items-center justify-content-between mb-1">
							<h6 class="mb-0">
								{{user.name}}
							</h6>
							<small class="small font-weight">{{(user.sendtime | date:'shortTime')}}</small>
						</div>
						<div class="d-flex align-items-center justify-content-between mb-1">
							<div *ngIf="UserId === user.senderId">
								<p *ngIf="user.sendtime > profile.sendtime" class="font text-small">You: {{user.newestMessage}}</p>
								<p *ngIf="user.sendtime < profile.sendtime" class="font text-small">{{user.name}}: {{profile.newestMessage}}</p>
							</div>
							<div></div>
							<div class="dropdown">
								<button class="btn dropdown-toggle" type="button" id="dropdownMenuButton"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									...
								</button>
								<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
									<a class="dropdown-item" href="#">Open</a>
									<a class="dropdown-item" data-toggle="modal" data-target="#myModalProfileUsers"
										(click)="ProfileUsers()" href="">Profile</a>
									<a class="dropdown-item" href="#">Favorite</a>
									<a class="dropdown-item" style="color: red;border-top:1px solid #ddd ;"
										href="#">Delete</a>
								</div>
							</div>
						</div>

					</div>
				</div>

			</div>

		</div>
	</div>

	<button class="btn btn-primary" data-toggle="modal" data-target="#ModalNewchat" type="button">New Chat</button>

</div>

<!-- New Chat  -->
<app-newchat [profileUsers]="profileUsers" [chatLists]="chatLists" (OnSelectedUser)="selectedUser($event)" (OnProfileUsers)="ProfileUsers()"
	(OnIsUserSelected)="isUserSelected($event)" ></app-newchat>

<!-- Profile Users  -->
<app-profile-users [profileUsers]="profileUsers" [selectedUserId]="selectedUserId">
</app-profile-users>